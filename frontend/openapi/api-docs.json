{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"paths":{"/v1/teams":{"get":{"tags":["team-controller"],"operationId":"getAll","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeamListViewModel"}}}}}}},"post":{"tags":["team-controller"],"operationId":"createTeam","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamRequestBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamDetailViewModel"}}}}}}},"/v1/teams/{teamId}/join":{"post":{"tags":["team-controller"],"operationId":"joinTeam","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/v1/teams/leave":{"post":{"tags":["team-controller"],"operationId":"leaveTeam","responses":{"200":{"description":"OK"}}}},"/v1/reviews":{"get":{"tags":["review-controller"],"operationId":"getVisitedLines","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewListViewModel"}}}}}}},"post":{"tags":["review-controller"],"operationId":"createReview","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewRequestBody"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/journeys":{"get":{"tags":["journey-controller"],"operationId":"getAll_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/JourneyListViewModel"}}}}}}},"post":{"tags":["journey-controller"],"operationId":"createJourney","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JourneyRequestBody"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/auth/register":{"post":{"tags":["authentication-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequestBody"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/v1/auth/refresh-token":{"post":{"tags":["authentication-controller"],"operationId":"refreshToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequestBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationViewModel"}}}}}}},"/v1/auth/login":{"post":{"tags":["authentication-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationViewModel"}}}}}}},"/v1/teams/{teamId}":{"get":{"tags":["team-controller"],"operationId":"getOne","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamDetailViewModel"}}}}}}},"/v1/teams/{teamId}/progress/cantons":{"get":{"tags":["team-controller"],"operationId":"getCantonProgress","parameters":[{"name":"teamId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CantonProgressViewModel"}}}}}}}},"/v1/stations/{startOpuic}/{endOpuic}/search/path-finding":{"get":{"tags":["station-controller"],"operationId":"searchPathFinding","parameters":[{"name":"startOpuic","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"endOpuic","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"amount","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":4}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PathfindingViewModel"}}}}}}}},"/v1/stations/{opuic}/search/connecting":{"get":{"tags":["station-controller"],"operationId":"searchConnecting","parameters":[{"name":"opuic","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"distance","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":15}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConnectingStationViewModel"}}}}}}}},"/v1/stations/search":{"get":{"tags":["station-controller"],"operationId":"searchStations","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}},{"name":"amount","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StationSearchViewModel"}}}}}}}},"/v1/stations/search/{lon}/{lat}/closest":{"get":{"tags":["station-controller"],"operationId":"searchClosest","parameters":[{"name":"lon","in":"path","required":true,"schema":{"type":"number","format":"double"}},{"name":"lat","in":"path","required":true,"schema":{"type":"number","format":"double"}},{"name":"amount","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StationSearchViewModel"}}}}}}}},"/v1/progress/user":{"get":{"tags":["progress-controller"],"operationId":"getUserProgress","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProgressViewModel"}}}}}}},"/v1/progress/cantons":{"get":{"tags":["progress-controller"],"operationId":"getCantonProgress_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CantonProgressViewModel"}}}}}}}},"/v1/geography/path/line-string":{"get":{"tags":["geography-controller"],"operationId":"getPathLineString","parameters":[{"name":"segments","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}}],"responses":{"200":{"description":"OK","content":{"application/geo+json":{"schema":{"$ref":"#/components/schemas/SegmentListFeature"}}}}}}},"/v1/geography/global/heatmap":{"get":{"tags":["geography-controller"],"operationId":"getGlobalHeatmap","parameters":[{"name":"random","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"application/geo+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HeatmapSegmentFeature"}}}}}}}},"/v1/geography/global/distance":{"get":{"tags":["geography-controller"],"operationId":"getTotalCoveredDistance","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultValueLong"}}}}}}},"/v1/auth/@me":{"get":{"tags":["authentication-controller"],"operationId":"getUser","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserViewModel"}}}}}}}},"components":{"schemas":{"TeamRequestBody":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"TeamDetailViewModel":{"required":["id","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}},"User":{"required":["displayName","firstName","lastName"],"type":"object","properties":{"displayName":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"ReviewRequestBody":{"required":["grade","line","review"],"type":"object","properties":{"line":{"type":"integer","format":"int64"},"review":{"maxLength":2000,"minLength":0,"type":"string"},"grade":{"maximum":10,"minimum":0,"type":"integer","format":"int32"}}},"JourneyRequestBody":{"required":["endDate","grade","review","segments","startDate","team"],"type":"object","properties":{"team":{"type":"boolean"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"segments":{"type":"array","items":{"type":"integer","format":"int64"}},"grade":{"type":"integer","format":"int32"},"review":{"type":"string"}}},"RegisterRequestBody":{"required":["displayName","firstName","lastName","password","username"],"type":"object","properties":{"username":{"type":"string"},"displayName":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"password":{"type":"string"}}},"RefreshTokenRequestBody":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"AuthenticationViewModel":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"LoginRequestBody":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"TeamListViewModel":{"required":["id","name","userCount"],"type":"object","properties":{"userCount":{"type":"integer","format":"int64"},"name":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"CantonProgressViewModel":{"required":["cantonCode","cantonName","totalCount","travelledCount"],"type":"object","properties":{"cantonCode":{"type":"string"},"cantonName":{"type":"string"},"travelledCount":{"type":"integer","format":"int64"},"totalCount":{"type":"integer","format":"int64"}}},"PathfindingViewModel":{"required":["edges","stationAbbreviatedNames","stationIds","stationNames","totalDistance"],"type":"object","properties":{"stationIds":{"type":"array","items":{"type":"integer","format":"int64"}},"stationNames":{"type":"array","items":{"type":"string"}},"stationAbbreviatedNames":{"type":"array","items":{"type":"string"}},"edges":{"type":"array","items":{"type":"integer","format":"int64"}},"totalDistance":{"type":"integer","format":"int32"}}},"ConnectingStationViewModel":{"required":["abbreviatedName","edges","line","lineName","name","position","totalDistance"],"type":"object","properties":{"opuic":{"type":"integer","format":"int64"},"name":{"type":"string"},"abbreviatedName":{"type":"string"},"position":{"$ref":"#/components/schemas/Point"},"edges":{"type":"array","items":{"type":"integer","format":"int64"}},"totalDistance":{"type":"integer","format":"int32"},"line":{"type":"integer","format":"int32"},"lineName":{"type":"string"}}},"Coordinate":{"type":"object","properties":{"x":{"type":"number","format":"double"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"double"},"coordinate":{"$ref":"#/components/schemas/Coordinate"},"m":{"type":"number","format":"double"},"valid":{"type":"boolean"}}},"CoordinateSequence":{"type":"object","properties":{"measures":{"type":"integer","format":"int32"},"dimension":{"type":"integer","format":"int32"}}},"CoordinateSequenceFactory":{"type":"object"},"Envelope":{"type":"object","properties":{"height":{"type":"number","format":"double"},"diameter":{"type":"number","format":"double"},"area":{"type":"number","format":"double"},"minX":{"type":"number","format":"double"},"maxX":{"type":"number","format":"double"},"minY":{"type":"number","format":"double"},"maxY":{"type":"number","format":"double"},"width":{"type":"number","format":"double"},"null":{"type":"boolean"}}},"Geometry":{"type":"object","properties":{"envelope":{"$ref":"#/components/schemas/Geometry"},"factory":{"$ref":"#/components/schemas/GeometryFactory"},"userData":{"type":"object"},"simple":{"type":"boolean"},"boundaryDimension":{"type":"integer","format":"int32"},"coordinates":{"type":"array","items":{"$ref":"#/components/schemas/Coordinate"}},"numPoints":{"type":"integer","format":"int32"},"coordinate":{"$ref":"#/components/schemas/Coordinate"},"geometryType":{"type":"string"},"boundary":{"$ref":"#/components/schemas/Geometry"},"srid":{"type":"integer","format":"int32"},"numGeometries":{"type":"integer","format":"int32"},"precisionModel":{"$ref":"#/components/schemas/PrecisionModel"},"rectangle":{"type":"boolean"},"area":{"type":"number","format":"double"},"centroid":{"$ref":"#/components/schemas/Point"},"interiorPoint":{"$ref":"#/components/schemas/Point"},"envelopeInternal":{"$ref":"#/components/schemas/Envelope"},"dimension":{"type":"integer","format":"int32"},"length":{"type":"number","format":"double"},"empty":{"type":"boolean"},"valid":{"type":"boolean"}}},"GeometryFactory":{"type":"object","properties":{"precisionModel":{"$ref":"#/components/schemas/PrecisionModel"},"coordinateSequenceFactory":{"$ref":"#/components/schemas/CoordinateSequenceFactory"},"srid":{"type":"integer","format":"int32"}}},"Point":{"type":"object","properties":{"envelope":{"$ref":"#/components/schemas/Geometry"},"factory":{"$ref":"#/components/schemas/GeometryFactory"},"userData":{"type":"object"},"coordinates":{"type":"array","items":{"$ref":"#/components/schemas/Coordinate"}},"simple":{"type":"boolean"},"boundaryDimension":{"type":"integer","format":"int32"},"numPoints":{"type":"integer","format":"int32"},"x":{"type":"number","format":"double"},"coordinateSequence":{"$ref":"#/components/schemas/CoordinateSequence"},"y":{"type":"number","format":"double"},"coordinate":{"$ref":"#/components/schemas/Coordinate"},"geometryType":{"type":"string"},"boundary":{"$ref":"#/components/schemas/Geometry"},"dimension":{"type":"integer","format":"int32"},"empty":{"type":"boolean"},"srid":{"type":"integer","format":"int32"},"numGeometries":{"type":"integer","format":"int32"},"precisionModel":{"$ref":"#/components/schemas/PrecisionModel"},"rectangle":{"type":"boolean"},"area":{"type":"number","format":"double"},"centroid":{"$ref":"#/components/schemas/Point"},"interiorPoint":{"$ref":"#/components/schemas/Point"},"envelopeInternal":{"$ref":"#/components/schemas/Envelope"},"length":{"type":"number","format":"double"},"valid":{"type":"boolean"}}},"PrecisionModel":{"type":"object","properties":{"scale":{"type":"number","format":"double"},"maximumSignificantDigits":{"type":"integer","format":"int32"},"offsetX":{"type":"number","format":"double"},"offsetY":{"type":"number","format":"double"},"type":{"$ref":"#/components/schemas/Type"},"floating":{"type":"boolean"}}},"Type":{"type":"object"},"StationSearchViewModel":{"required":["abbreviatedName","name","position"],"type":"object","properties":{"opuic":{"type":"integer","format":"int64"},"name":{"type":"string"},"abbreviatedName":{"type":"string"},"position":{"$ref":"#/components/schemas/Point"}}},"ReviewListViewModel":{"required":["line","lineName","stationEnd","stationStart"],"type":"object","properties":{"line":{"type":"integer","format":"int32"},"stationStart":{"type":"string"},"stationEnd":{"type":"string"},"grade":{"type":"integer","format":"int32"},"lineName":{"type":"string"},"assessmentId":{"type":"integer","format":"int64"},"comment":{"type":"string"}}},"BoxG2D":{"type":"object","properties":{"coordinateDimension":{"type":"integer","format":"int32"},"coordinateReferenceSystem":{"$ref":"#/components/schemas/CoordinateReferenceSystemG2D"},"empty":{"type":"boolean"}}},"CoordinateReferenceSystemG2D":{"type":"object","properties":{"crsId":{"$ref":"#/components/schemas/CrsId"},"name":{"type":"string"},"coordinateSystem":{"$ref":"#/components/schemas/CoordinateSystemG2D"},"coordinateDimension":{"type":"integer","format":"int32"},"compound":{"type":"boolean"}}},"CoordinateSystemAxis":{"type":"object","properties":{"axisName":{"type":"string"},"unit":{"$ref":"#/components/schemas/Unit"},"normalOrder":{"type":"integer","format":"int32"},"axisDirection":{"type":"string","enum":["NORTH","EAST","SOUTH","WEST","UP","DOWN","OTHER","UNKNOWN","GeocentricX","GeocentricY","GeocentricZ"]}}},"CoordinateSystemG2D":{"type":"object","properties":{"axes":{"type":"array","items":{"$ref":"#/components/schemas/CoordinateSystemAxis"}},"coordinateDimension":{"type":"integer","format":"int32"},"axisDirections":{"type":"array","items":{"type":"string","enum":["NORTH","EAST","SOUTH","WEST","UP","DOWN","OTHER","UNKNOWN","GeocentricX","GeocentricY","GeocentricZ"]}},"axisNormalOrder":{"type":"array","items":{"type":"integer","format":"int32"}}}},"CrsId":{"type":"object","properties":{"authority":{"type":"string"},"code":{"type":"integer","format":"int32"}}},"EnvelopeG2D":{"type":"object","properties":{"coordinateReferenceSystem":{"$ref":"#/components/schemas/CoordinateReferenceSystemG2D"},"empty":{"type":"boolean"}}},"G2D":{"type":"object","properties":{"coordinateDimension":{"type":"integer","format":"int32"},"lon":{"type":"number","format":"double"},"lat":{"type":"number","format":"double"},"empty":{"type":"boolean"}}},"MultiLineStringG2D":{"type":"object","properties":{"positions":{"$ref":"#/components/schemas/PositionSequenceG2D"},"startPosition":{"$ref":"#/components/schemas/G2D"},"endPosition":{"$ref":"#/components/schemas/G2D"},"geometryType":{"type":"string","enum":["POINT","CURVE","SURFACE","GEOMETRYCOLLECTION","LINESTRING","LINEARRING","POLYGON","MULTIPOINT","MULTIPOLYGON","MULTILINESTRING"]},"dimension":{"type":"integer","format":"int32"},"numGeometries":{"type":"integer","format":"int32"},"srid":{"type":"integer","format":"int32"},"envelope":{"$ref":"#/components/schemas/EnvelopeG2D"},"coordinateDimension":{"type":"integer","format":"int32"},"coordinateReferenceSystem":{"$ref":"#/components/schemas/CoordinateReferenceSystemG2D"},"boundingBox":{"$ref":"#/components/schemas/BoxG2D"},"numPositions":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PositionFactoryG2D":{"type":"object","properties":{"mcomponentIndex":{"type":"integer","format":"int32"},"coordinateDimension":{"type":"integer","format":"int32"}}},"PositionSequenceG2D":{"type":"object","properties":{"positionFactory":{"$ref":"#/components/schemas/PositionFactoryG2D"},"coordinateDimension":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"Unit":{"type":"object","properties":{"crsId":{"$ref":"#/components/schemas/CrsId"},"name":{"type":"string"},"conversionFactor":{"type":"number","format":"double"},"fundamentalUnit":{"$ref":"#/components/schemas/Unit"},"angular":{"type":"boolean"}}},"UserProgressViewModel":{"required":["boundingBox","segments","totalCount","travelledCount"],"type":"object","properties":{"segments":{"$ref":"#/components/schemas/MultiLineStringG2D"},"boundingBox":{"$ref":"#/components/schemas/BoxG2D"},"travelledCount":{"type":"integer","format":"int64"},"totalCount":{"type":"integer","format":"int64"}}},"JourneyListViewModel":{"required":["endDate","grade","id","review","segmentCount","startDate"],"type":"object","properties":{"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"grade":{"type":"integer","format":"int32"},"review":{"type":"string"},"segmentCount":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"}}},"SegmentListFeature":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"geometry":{"$ref":"#/components/schemas/MultiLineStringG2D"},"bbox":{"$ref":"#/components/schemas/BoxG2D"},"properties":{"type":"object","additionalProperties":{"type":"object"}},"type":{"type":"string"}}},"HeatmapSegmentFeature":{"type":"object","properties":{"geometry":{"$ref":"#/components/schemas/MultiLineStringG2D"},"id":{"type":"integer","format":"int64"},"percentage":{"type":"number","format":"double"},"bbox":{"$ref":"#/components/schemas/BoxG2D"},"properties":{"type":"object","additionalProperties":{"type":"object"}},"type":{"type":"string"}}},"ResultValueLong":{"type":"object","properties":{"value":{"type":"integer","format":"int64"}}},"UserViewModel":{"type":"object","properties":{"email":{"type":"string"},"displayName":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"teamId":{"type":"integer","format":"int64"}}}}}}
